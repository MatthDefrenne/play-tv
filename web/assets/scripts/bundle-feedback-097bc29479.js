!function(){function e(t,r,s){function n(a,o){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return n(r||e)},p,p.exports,e,t,r,s)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}return e}()({1:[function(e,t,r){var s=e("./views/help/configuration"),n=e("./views/help/support");new s,new n},{"./views/help/configuration":3,"./views/help/support":4}],2:[function(e,t,r){var s=window.Backbone;t.exports=s.View.extend({elements:null,constructor:function(){s.View.apply(this,arguments)},storeElements:function(){var e=this.elements;null!==e&&"object"==typeof e&&Object.keys(e).forEach(function(t){this["$"+t]=this.$(e[t]),this[t]=this.$(e[t])[0]},this)},close:function(){this.stopListening(),this.undelegateEvents()}})},{}],3:[function(e,t,r){var s=e("./../base");t.exports=s.extend({el:".pmd-js-HelpConfiguration",elements:{flash:".pmd-js-HelpConfiguration-flash"},initialize:function(){this.storeElements();var e=swfobject.getFlashPlayerVersion(),t=e.major+"."+e.minor+"."+e.release;this.$flash.html(t)}})},{"./../base":2}],4:[function(e,t,r){var s=e("./../base");t.exports=s.extend({el:".pmd-js-HelpSupport",events:{"submit .pmd-js-HelpSupport-form":"handleForm","focus .pmd-js-HelpSupport-form input":"resetInput","focus .pmd-js-HelpSupport-form textarea":"resetTextarea"},elements:{flash:".pmd-js-HelpSupport-flash",form:".pmd-js-HelpSupport-form",alert:".pmd-js-HelpSupport-alert",submitButton:".pmd-js-HelpSupport-submitButton"},initialize:function(){this.storeElements();var e=swfobject.getFlashPlayerVersion(),t=e.major+"."+e.minor+"."+e.release;this.$flash.val(t),this.ladda=Ladda.create(this.$form.find('[type="submit"]')[0])},handleForm:function(e){e.preventDefault();var t=this,r=$(e.currentTarget).serialize();this.ladda.start(),t.hideAlert(),t.submitForm(r).done(_.bind(this.handleSuccess,t)).fail(_.bind(this.handleError,t)).always(_.bind(this.handleAlways,t))},submitForm:function(e){return $.ajax({type:"post",url:this.$form.attr("action"),data:e,dataType:"json"})},handleSuccess:function(e){var t=e;this.setAlertMessage(t.message),this.showAlertSuccess(),this.$submitButton.remove()},handleError:function(e){var t="Oops, une erreur s'est produite. Veuillez rÃ©essayer.",r="undefined"!=typeof e&&"undefined"!=typeof e.responseText?JSON.parse(e.responseText):null,s=this;if(null!==r){var n=document.createElement("ul");_.each(r,function(e,t){s.$form.find("input[name="+t+"]").addClass("pmd-Input--error"),s.$form.find("textarea[name="+t+"]").addClass("pmd-Textarea--error");var r=document.createElement("li");r.innerHTML=e,n.appendChild(r)}),t=n}s.setAlertMessage(t),s.showAlertError()},handleAlways:function(){this.ladda.stop()},showAlertSuccess:function(){this.resetAlert(),this.showAlert(),this.$alert.addClass("pmd-Alert--success")},showAlertError:function(){this.resetAlert(),this.showAlert(),this.$alert.addClass("pmd-Alert--danger")},setAlertMessage:function(e){this.$alert.html(e)},showAlert:function(){this.$alert.removeClass("pmd-Alert--hidden")},hideAlert:function(){this.$alert.addClass("pmd-Alert--hidden")},resetAlert:function(){this.$alert.removeClass("pmd-Alert--danger pmd-Alert--success")},resetInput:function(e){var t=$(e.currentTarget);t.removeClass("pmd-Input--error")},resetTextarea:function(e){var t=$(e.currentTarget);t.removeClass("pmd-Textarea--error")}})},{"./../base":2}]},{},[1]);